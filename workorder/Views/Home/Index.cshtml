@{
ViewData["Title"] = "Index";
}

@section Scripts {
<script defer>
  const amountField = document.querySelector('form input[type="text"]');
  const moreButton = document.querySelector('form button#increase');
  const lessButton = document.querySelector('form button#decrease');
  const rangeField = document.querySelector('form input[type="range"]');

  moreButton.addEventListener('click', () => {
    rangeField.value = parseInt(rangeField.value) + 1;
    // trigger change event to update the number field
    rangeField.dispatchEvent(new Event('change'));
  });

  lessButton.addEventListener('click', () => {
    currentAmount = parseInt(rangeField.value);
    // don't allow negative values
    rangeField.value = currentAmount > 0 ? currentAmount - 1 : 0;
    // trigger change event to update the number field
    rangeField.dispatchEvent(new Event('change'));
  });

  rangeField.addEventListener('change', () => {
    amountField.value = rangeField.value;
  });

  rangeField.addEventListener('input', () => {
    amountField.value = rangeField.value;
  });
</script>
}

@section Styles {
<style>
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background-color: currentColor;
    cursor: pointer;
    width: 1.5rem;
    height: 3.5rem;
    transition: filter 0.2s;
  }

  input[type="range"]::-webkit-slider-thumb:hover {
    filter: brightness(2);
  }

  input[type="range"]::-moz-range-thumb {
    -webkit-appearance: none;
    appearance: none;
    height: 100%;
    aspect-ratio: 1/1;
    background: currentColor;
    border-radius: 0;
    border: none;
    cursor: pointer;
  }
</style>
}

<div class="flex flex-col items-center justify-center gap-6 min-h-[85vh]">
  <div class="text-center mx-auto">
    <h1
      class="text-[5rem] font-black text-transparent bg-clip-text bg-gradient-to-r from-primary-500 to-teal-400 -mb-4">
      Jadework</h1>
    <p>Työmääräin Prototyyppi 19.3.2024</p>
  </div>
  <form action="/work" class="flex flex-col gap-2 min-w-96">

    <div class="flex flex-col border-4 border-primary">
      <label for="amount" class="p-2 text-center block bg-primary text-stone-100">Työmääräimien määrä</label>
      <input type="text" id="amount" name="amount" value="10" class="appearance-none w-full bg-stone-200 p-2">
    </div>

    <div class="flex gap-[2px] bg-transparent border-4 border-primary">
      <button id="decrease" type="button"
        class="p-4 bg-primary text-stone-100 font-bold aspect-square flex items-center justify-center">
        -
      </button>

      <input type="range" name="range_amount" value="10" min="1" max="100" aria-label="Työmääräimien määrä slider"
        class="w-full appearance-none cursor-pointer bg-stone-200">

      <button id="increase" type="button"
        class="p-4 bg-primary text-stone-100 font-bold aspect-square flex items-center justify-center">
        +
      </button>
    </div>
    <button type="submit"
      class="border-4 border-primary p-2 transition-all bg-primary text-stone-100 hover:bg-transparent hover:text-primary">Lataa</button>
  </form>
</div>
